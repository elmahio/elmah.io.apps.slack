{
	"id": "elmah.io.apps.slack",
	"name": "Slack",
	"description": "Post a new chat message to Slack when errors occur",
	"variables": [{
		"name": "token",
		"description": "An access token from Slack needed to call the Slack API",
		"type": "string",
		"required": true
	}, {
		"name": "channel",
		"description": "An URL encoded channel name for Slack (example: %23general)",
		"type": "string",
		"required": false
	}],
	"rule": {
		"title": "Post a message to Slack on all errors",
		"query": "severity: Error OR severity: Fatal",
		"then": {
			"http": {
				"url": "https://slack.com/api/chat.postMessage?token=$token&channel=$channel&text=$message&username=elmah.io&icon_url=https://elmah.io/icons/AppIcon50x50.png",
				"method": "post"
			}
		}
	}
}